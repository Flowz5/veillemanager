version: '3.8'

services:
  # --- Service N8N ---
  n8n:
    image: n8nio/n8n
    container_name: n8n
    restart: unless-stopped
    network_mode: "host" # Il est dÃ©jÃ  lÃ  pour n8n
    volumes:
      - ~/.n8n:/home/node/.n8n
    environment:
      - N8N_HOST=localhost
      - N8N_PORT=5678

  # --- Service Bot Discord ---
  bot:
    build: .
    container_name: bot-discord
    restart: unless-stopped
    network_mode: "host" # ðŸ‘ˆ AJOUTE CETTE LIGNE ICI !
    env_file: .env
    volumes:
      - ./xp_data.json:/app/xp_data.json
      - /home/leo/Projets/Python/VeilleTechScraper:/app/external_scraper